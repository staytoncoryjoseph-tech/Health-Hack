<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Medical AI Assistant | Health Hack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Prevention-first Medical AI with tracking, prescriptions, appointments, and emergency-only CPR guidance." />

  <style>
    :root{
      --bg:#060a14;
      --card:#0b1430;
      --card2:#070d1b;
      --border:rgba(140,160,220,.15);
      --text:#e9ecf1;
      --muted:#9aa4c7;
      --danger:#ff6b6b;
      --warn:#ffcc66;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:Inter,system-ui,-apple-system,BlinkMacSystemFont,sans-serif;
      background:var(--bg);
      color:var(--text);
    }
    .container{max-width:1100px;margin:auto;padding:24px}
    h1,h2,h3{margin:0 0 10px}
    p{color:var(--muted); margin:0 0 14px}
    .grid{display:grid;gap:20px;grid-template-columns:1fr}
    @media(min-width:900px){.grid{grid-template-columns:1.2fr .8fr}}

    .card{
      background:linear-gradient(180deg,var(--card),var(--card2));
      border:1px solid var(--border);
      border-radius:18px;
      padding:20px;
    }

    /* ================= AI QUICK NAV (TOP RIGHT) ================= */
    .ai-nav{
      position:fixed;
      top:14px;
      right:16px;
      display:flex;
      gap:10px;
      z-index:9999;
    }
    .ai-btn{
      padding:10px 16px;
      border-radius:999px;
      font-size:14px;
      font-weight:800;
      text-decoration:none;
      color:#fff;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(10,18,45,.55);
      backdrop-filter: blur(10px);
      box-shadow:0 10px 28px rgba(0,0,0,.45);
      transition:transform .15s ease, box-shadow .15s ease, filter .15s ease;
      white-space:nowrap;
    }
    .ai-btn:hover{transform:translateY(-2px);box-shadow:0 14px 36px rgba(0,0,0,.55);filter:brightness(1.05)}
    .ai-btn:active{transform:translateY(0)}
    .ai-btn.medical{background:linear-gradient(135deg,#ff5f6d,#ffc371)}
    .ai-btn.nutrition{background:linear-gradient(135deg,#56ab2f,#a8e063)}
    .ai-btn.psych{background:linear-gradient(135deg,#6a11cb,#2575fc)}
    @media(max-width:640px){
      .ai-nav{top:auto;bottom:14px;right:50%;transform:translateX(50%);flex-wrap:wrap;justify-content:center}
    }

    .top-row{
      display:flex; gap:12px; flex-wrap:wrap;
      align-items:center; justify-content:space-between;
      margin: 14px 0 18px;
    }
    .pill{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    .badge{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      color:var(--muted);
      background:rgba(77,163,255,.08);
    }
    .disclaimer{
      border-left:4px solid var(--danger);
      padding:14px 16px;
      background:rgba(255,107,107,.08);
      border-radius:14px;
      margin-bottom:16px;
      font-size:14px;
    }

    .row{display:flex; gap:10px; flex-wrap:wrap; align-items:center}
    select,input,button,textarea{
      background:#0b1430;
      color:#fff;
      border:1px solid var(--border);
      border-radius:14px;
      padding:12px 14px;
      font-size:15px;
      outline:none;
    }
    textarea{width:100%; min-height:86px; resize:vertical; line-height:1.4}
    button{
      cursor:pointer;
      background:linear-gradient(180deg,#4da3ff,#357edd);
      border:none;
      font-weight:800;
    }
    button.secondary{
      background:#0b1430;
      border:1px solid var(--border);
      font-weight:800;
    }

    .chat-box{display:flex;flex-direction:column;height:440px}
    .messages{flex:1;overflow-y:auto;padding-right:6px}
    .msg{margin-bottom:14px;line-height:1.45;white-space:pre-wrap}
    .user{color:#fff}
    .ai{color:#b7d6ff}
    .system{color:var(--muted); font-size:13px}
    .input-row{display:flex;gap:10px;margin-top:12px}
    .input-row input{flex:1}

    .stat{
      display:flex; justify-content:space-between;
      margin-bottom:12px; font-size:15px;
    }
    .small{font-size:13px;color:var(--muted)}
    .hr{border-top:1px solid var(--border); margin:18px 0}

    .tipcard{
      border:1px solid var(--border);
      border-radius:16px;
      padding:14px;
      background:rgba(255,255,255,.03);
      margin-top:10px;
    }
    .tipcard h3{font-size:16px;margin-bottom:6px}
    .tips{margin:0; padding-left:18px; color:var(--muted)}
    .tips li{margin:6px 0}

    .flag{
      display:inline-flex; align-items:center; gap:8px;
      font-size:12px; padding:6px 10px; border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,204,102,.08);
      color:var(--warn);
    }

    .mini-btn{
      display:inline-block;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid var(--border);
      background:rgba(255,255,255,.04);
      color:#fff;
      font-size:12px;
      cursor:pointer;
      margin-left:8px;
    }
    .mini-btn:hover{filter:brightness(1.08)}
  </style>
</head>

<body>

  <!-- ================= AI QUICK NAV (Correct for /Health-Hack/) ================= -->
  <div class="ai-nav">
    <a href="/Health-Hack/medical/medical.html" class="ai-btn medical">Medical AI</a>
    <a href="/Health-Hack/meal/meal.html" class="ai-btn nutrition">Nutritionist AI</a>
    <a href="/Health-Hack/psych/psychologist.html" class="ai-btn psych">Psychologist AI</a>
  </div>

  <div class="container">
    <h1>ðŸ©º Medical AI Assistant</h1>
    <p>Prevention-focused education + tracking â€” <strong>not a doctor</strong>.</p>

    <div class="top-row">
      <div class="pill">
        <span class="badge">Local-first â€¢ No Firebase</span>
        <span class="badge">Prevention Game Plans</span>
        <span class="badge">RX + Appointments</span>
        <span class="badge">Emergency-only CPR</span>
      </div>

      <div class="row">
        <label class="small" for="conditionSelect">Condition Mode</label>
        <select id="conditionSelect">
          <option value="general">General</option>
          <option value="lupus">Lupus (SLE)</option>
          <option value="ckd3">Kidney Disease (CKD Stage 3)</option>
          <option value="htn">High Blood Pressure (Hypertension)</option>
          <option value="diabetes">Diabetes (General)</option>
          <option value="stress">Anxiety / Stress</option>
        </select>
      </div>
    </div>

    <div class="disclaimer">
      <strong>Important Disclaimer:</strong><br>
      This Medical AI is <strong>not a licensed medical professional</strong>. It does not diagnose or treat.
      Info is for <strong>education & prevention</strong>. For emergencies call <strong>911</strong>.
    </div>

    <div class="grid">

      <!-- LEFT: CHAT -->
      <div class="card">
        <h2>Medical AI Chat</h2>
        <p class="small">Ask a question. Answers are educational, prevention-first, and safety-focused.</p>

        <div class="chat-box">
          <div class="messages" id="messages"></div>

          <div class="input-row">
            <input id="userInput" placeholder="Ask a medical questionâ€¦" />
            <button id="btnAsk" type="button">Ask</button>
          </div>

          <div class="row" style="margin-top:10px; justify-content:space-between;">
            <button id="btnClearChat" class="secondary" type="button">Clear Chat</button>
            <span id="modeFlag" class="flag" title="Current AI scope">Mode: General</span>
          </div>
        </div>
      </div>

      <!-- RIGHT: TRACKING + PLANS -->
      <div class="card">
        <h2>Health Metrics</h2>

        <h3>Blood Pressure</h3>
        <div class="stat">
          <span>Last Reading</span>
          <span id="bpDisplay">Not recorded</span>
        </div>
        <div class="input-row">
          <input id="systolic" inputmode="numeric" placeholder="Systolic (e.g. 120)" />
          <input id="diastolic" inputmode="numeric" placeholder="Diastolic (e.g. 80)" />
          <button id="btnSaveBP" class="secondary" type="button">Save</button>
        </div>

        <div class="hr"></div>

        <h3>Steps</h3>
        <div class="stat">
          <span>Todayâ€™s Steps</span>
          <span id="stepsDisplay">0</span>
        </div>
        <div class="input-row">
          <input id="stepsInput" inputmode="numeric" placeholder="Enter steps" />
          <button id="btnSaveSteps" class="secondary" type="button">Save</button>
        </div>
        <p class="small">* Auto-tracking can be added later for mobile builds.</p>

        <div class="hr"></div>

        <h2>Condition Tips</h2>
        <p class="small">Updates when you change Condition Mode.</p>
        <div class="tipcard">
          <h3 id="tipsTitle">General Guidance</h3>
          <ul class="tips" id="tipsList"></ul>
          <p class="small" id="tipsNote" style="margin-top:10px;"></p>
        </div>

        <div class="hr"></div>

        <h2>Prevention Game Plan</h2>
        <p class="small">Pick a goal. Larry generates small missions you can do today.</p>

        <div class="input-row">
          <select id="goalSelect">
            <option value="general">General Healthy Living</option>
            <option value="bp">Lower Blood Pressure</option>
            <option value="steps">Walk More</option>
            <option value="sleep">Better Sleep</option>
            <option value="hydration">Hydration</option>
            <option value="stress">Stress / Anxiety</option>
            <option value="ckd">Kidney-Friendly Habits</option>
            <option value="lupus">Lupus-Friendly Habits</option>
          </select>
          <button id="btnPlan" class="secondary" type="button">Generate Plan</button>
        </div>

        <div class="tipcard">
          <h3 id="planTitle">Todayâ€™s Missions</h3>
          <ul class="tips" id="planList"></ul>
          <p class="small" id="planNote" style="margin-top:10px;"></p>
        </div>

        <div class="hr"></div>

        <h2>Prescriptions & Due Dates</h2>
        <p class="small">Track meds + refills locally. Not medical advice.</p>

        <div class="input-row">
          <input id="rxName" placeholder="Medication name (e.g., Lisinopril)" />
          <input id="rxDose" placeholder="Dose (e.g., 10mg)" />
        </div>
        <div class="input-row">
          <input id="rxTime" placeholder="Take time (e.g., 8:00 AM)" />
          <input id="rxRefillDate" type="date" />
          <button id="btnAddRx" class="secondary" type="button">Add</button>
        </div>

        <div class="tipcard">
          <h3>My Prescriptions</h3>
          <ul class="tips" id="rxList"></ul>
          <p class="small">* For dosing/changes, follow your clinicianâ€™s plan.</p>
        </div>

        <div class="hr"></div>

        <h2>Appointments & Reminders</h2>
        <p class="small">Save doctor appointments locally.</p>

        <div class="input-row">
          <input id="apptTitle" placeholder="Appointment (e.g., Nephrology follow-up)" />
          <input id="apptDate" type="date" />
        </div>
        <div class="input-row">
          <input id="apptTime" placeholder="Time (e.g., 2:30 PM)" />
          <button id="btnAddAppt" class="secondary" type="button">Add</button>
        </div>

        <div class="tipcard">
          <h3>My Appointments</h3>
          <ul class="tips" id="apptList"></ul>
        </div>

        <div class="hr"></div>

        <h2>Emergency Skills</h2>
        <p class="small">CPR steps appear only when you ask or in emergency situations.</p>
        <button id="btnCPR" class="secondary" type="button">Teach CPR (Emergency Only)</button>

      </div>
    </div>
  </div>

  <!-- JS (same folder) -->
  <script defer src="./medical.js"></script>
</body>
</html>
